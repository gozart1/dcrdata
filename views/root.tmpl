{{define "home"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="dcrdata web">
    <meta name="author" content="dcrdata">
    <!--  Custom favicon  -->
    <!--  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="images/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="images/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="images/favicon/manifest.json">
  <link rel="mask-icon" href="images/favicon/safari-pinned-tab.svg">
  <link rel="shortcut icon" href="images/favicon/favicon.ico">
  <meta name="apple-mobile-web-app-title" content="deCRED - decentralized credit">
  <meta name="application-name" content="deCRED - decentralized credit">
  <meta name="msapplication-TileColor" content="#2973ff">
  <meta name="msapplication-TileImage" content="images/favicon/mstile-144x144.png">
  <meta name="msapplication-config" content="images/favicon/browserconfig.xml"> -->
    <link rel="icon" href="favicon.ico">
    <title>dcrdata web</title>
    <link href="css/main.css" rel="stylesheet">
    <link rel="stylesheet/less" type="text/css" href="css/dynamic.less">
    <script src="js/Chart.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <script>
        var loc = window.location;
        var uri = 'ws:';

        if (loc.protocol === 'https:') {
            uri = 'wss:';
        }
        uri += '//' + loc.host;
        uri += loc.pathname + 'ws';

        ws = new WebSocket(uri)

        ws.onopen = function () {
            console.log('Connected')
        }

        ws.onmessage = function (evt) {
            var out = document.getElementById('blockheight');
            out.innerHTML += evt.data + '<br>';
        }

        setInterval(function () {
            ws.send('Hello, Server!');
        }, 1000);
    </script>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container wrapper">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
                <a class="navbar-brand" href="#">
                    <svg class="svg-logo">
        <use xlink:href="images/sprites.svg#svg-decred-logo" />
        </svg>
                </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://github.com/dcrdata/dcrdata" title="dcrdata on GitHub" title="_blank">dcrdata GitHub</a></li>
                    <li><a href="https://github.com/dcrdata/dcrdata#json-rest-api" title="API Endpoints" title="_blank">API</a></li>
                    <li><a href="https://api.dcrdata.net/status" title="API Status" title="_blank">API Status</a></li>
                    <li><a href="https://decred.slack.com/" title="Decred Slack" title="_blank">Decred Slack</a></li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </nav>


    <div class="wrapper" style="margin-top:60px;">
        <div id="boxagenda">
            <div style="clear:both;">&nbsp;</div>
            <h4><span>Proof of Stake (PoS)</span></h4>

            <div class="col-md-10">
                Current
                <p class="bg-info" style="background-color:#2971FF;padding:15px;">
                    Current Ticket Price: {{printf "%12.4f" .BlockSummary.StakeDiff}}<br>
                    Window Progress: block {{.StakeSummary.IdxBlockInWindow}} of 144<br>
                </p>
                Next Price
                <p class="bg-info" style="background-color:#2971FF;padding:15px;">
                    Min: {{printf "%12.2f" .StakeSummary.StakeDiff.Estimates.Min}}<br>
                    Max: {{printf "%12.2f" .StakeSummary.StakeDiff.Estimates.Max}}<br>
                    Guess: {{printf "%12.2f" .StakeSummary.StakeDiff.Estimates.Expected}}<br>
                </p>
                Fee Info (Block)
                <p class="bg-info" style="background-color:#2971FF;padding:15px;">
                    Number of Tickets: {{.StakeSummary.Feeinfo.Number}}<br>
                    Min Fee: {{printf "%16.6f" .StakeSummary.Feeinfo.Min}}<br>
                    Max Fee: {{printf "%16.6f" .StakeSummary.Feeinfo.Max}}<br>
                    Median Fee: {{printf "%16.6f" .StakeSummary.Feeinfo.Median}}<br>
                    Mean Fee: {{printf "%16.6f" .StakeSummary.Feeinfo.Mean}}<br>
                </p>
            </div>

            <div class="col-md-5 text-right">
                <strong>Best Block</strong>
                <table class="table table-condensed">
                <tbody>
                <tr><td>Height</td><td><strong><span id="blockheight" style="color:#41BF53">{{.BlockSummary.Height}}</span></strong></td></tr>
                <tr><td>Hash</td><td><strong><span id="blockhash" class="inco" style="float: right; max-width: 180px; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;font-size:12px;">
                        {{.BlockSummary.Hash}}</span></strong></td></tr>
                <tr><td>Size (bytes)</td><td><strong><p id="blocksize" >{{.BlockSummary.Size}}</p></strong></td></tr>
                <tr><td>Difficulty</td><td><strong><p id="blockdiff" >{{printf "%16.2f" .BlockSummary.Difficulty}}</p></strong></td></tr>
                </tbody>
                </table>
                <br>
                <strong>Ticket Pool</strong>
                <table class="table table-condensed">
                <tbody>
                <tr><td>Number of Tickets</td><td><strong><span style="color:#41BF53">{{.BlockSummary.PoolInfo.Size}}</span></strong></td></tr>
                <tr><td>Value (DCR)</td><td><strong>{{printf "%16.2f" .BlockSummary.PoolInfo.Value}}</strong></td></tr>
                <tr><td>Avg. Value (DCR/ticket)</td><td><strong>{{printf "%16.4f" .BlockSummary.PoolInfo.ValAvg}}</td></tr>
                </tbody>
                </table>
            </div>

            <!--<div class="col-md-10">
                Ticket Pool
                <p class="bg-info" style="background-color:#2971FF;padding:15px;">
                    Pool Size (bytes): {{.BlockSummary.PoolInfo.Size}}<br>
                    Pool Value (DCR): {{.BlockSummary.PoolInfo.Value}}<br>
                    Pool Avg. Value (DCR/ticket): {{.BlockSummary.PoolInfo.ValAvg}}<br>
                </p>
            </div>-->
        </div>

        <div id="boxagenda">
            <div style="clear:both;">&nbsp;</div>
            <h4><span>Mempool (queued for mining)</span></h4>
            <div class="col-md-10">
                <p class="bg-info" style="background-color:#2971FF;padding:15px;">
                    Number of Tickets: {{.MempoolFeeInfo.Number}}<br>
                    Lowest Mineable Fee: {{printf "%.8f" .MempoolFeeInfo.LowestMineable}}<br>
                    Min Fee: {{.MempoolFeeInfo.Min}}<br>
                    Max Fee: {{.MempoolFeeInfo.Max}}<br>
                    Median Fee: {{.MempoolFeeInfo.Median}}<br>
                    Mean Fee: {{.MempoolFeeInfo.Mean}}<br>
                </p>
            </div>

            <!--<div class="col-md-5 text-right">
                <strong>Blah.</strong>
            </div>-->
        </div> <!-- boxagenda -->

        <br /><br /><br /><br /><br />&nbsp;
    </div>
    <!-- end wrapper -->

    <script src="js/complete.js"></script>

</body>

</html>
{{end}}